<template>
  <footer class="education-footer">
    <!-- Main Footer Content -->
    <div class="footer-main">
      <div class="container">
        <!-- Brand Section -->
        <div class="footer-brand">
          <div class="brand-logo">
            <svg viewBox="0 0 24 24" fill="currentColor" class="logo-icon">
              <path d="M12 3L1 9L12 15L21 9.18V17H23V9L12 3ZM5 13.18V17.18L12 21L19 17.18V13.18L12 17L5 13.18Z"/>
            </svg>
            <span class="brand-name">PULLIT</span>
          </div>
          <p class="brand-description">
            중학교를 위한 스마트 문제은행 시스템으로<br>
            교육의 질을 한 단계 높여나가겠습니다.
          </p>
          <div class="social-links">
            <a href="#" class="social-link" aria-label="Facebook">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="Twitter">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="YouTube">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="Instagram">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M12.017 0C8.396 0 7.989.016 6.756.08 5.526.145 4.68.303 3.938.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.139C.302 4.881.145 5.727.08 6.956.016 8.19 0 8.597 0 12.017s.016 3.827.08 5.06c.065 1.23.222 2.076.549 2.818.306.79.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.742.327 1.588.484 2.818.549 1.233.064 1.64.08 5.06.08s3.827-.016 5.06-.08c1.23-.065 2.076-.222 2.818-.549a5.901 5.901 0 0 0 2.126-1.384 5.9 5.9 0 0 0 1.384-2.126c.327-.742.484-1.588.549-2.818.064-1.233.08-1.64.08-5.06s-.016-3.827-.08-5.06c-.065-1.23-.222-2.076-.549-2.818a5.9 5.9 0 0 0-1.384-2.126A5.9 5.9 0 0 0 19.877.63c-.742-.327-1.588-.484-2.818-.549C15.827.016 15.42 0 12.017 0zm0 2.164c3.204 0 3.584.012 4.85.07 1.17.054 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.053 1.17-.249 1.805-.413 2.227a3.81 3.81 0 0 1-.896 1.382 3.744 3.744 0 0 1-1.382.896c-.422.164-1.057.36-2.227.413-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.053-1.805-.249-2.227-.413a3.81 3.81 0 0 1-1.382-.896 3.744 3.744 0 0 1-.896-1.382c-.164-.422-.36-1.057-.413-2.227-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.053-1.17.249-1.805.413-2.227.217-.562.477-.96.896-1.382a3.744 3.744 0 0 1 1.382-.896c.422-.164 1.057-.36 2.227-.413 1.266-.058 1.646-.07 4.85-.07z"/>
              </svg>
            </a>
          </div>
        </div>

        <!-- Quick Links -->
        <div class="footer-section">
          <h4 class="section-title">교사 기능</h4>
          <ul class="footer-links">
            <li><router-link to="/test-bank" class="footer-link">문제은행 관리</router-link></li>
            <li><router-link to="/exam-management" class="footer-link">시험지 생성</router-link></li>
            <li><router-link to="/analytics" class="footer-link">성적 분석</router-link></li>
            <li><router-link to="/grade-management" class="footer-link">성적 관리</router-link></li>
            <li><router-link to="/class-management" class="footer-link">학급 관리</router-link></li>
          </ul>
        </div>

        <!-- Student Links -->
        <div class="footer-section">
          <h4 class="section-title">학생 기능</h4>
          <ul class="footer-links">
            <li><router-link to="/student/practice" class="footer-link">맞춤형 학습</router-link></li>
            <li><router-link to="/student/mock-exam" class="footer-link">모의고사</router-link></li>
            <li><router-link to="/student/progress" class="footer-link">학습 진도</router-link></li>
            <li><router-link to="/student/report" class="footer-link">성적 조회</router-link></li>
            <li><router-link to="/student/community" class="footer-link">학습 커뮤니티</router-link></li>
          </ul>
        </div>

        <!-- Resources -->
        <div class="footer-section">
          <h4 class="section-title">자료 및 지원</h4>
          <ul class="footer-links">
            <li><router-link to="/resources" class="footer-link">학습 자료</router-link></li>
            <li><router-link to="/help" class="footer-link">도움말</router-link></li>
            <li><router-link to="/faq" class="footer-link">자주 묻는 질문</router-link></li>
            <li><router-link to="/manual" class="footer-link">사용자 매뉴얼</router-link></li>
            <li><a href="mailto:support@pullit.co.kr" class="footer-link">기술 지원</a></li>
          </ul>
        </div>

        <!-- Contact & Status -->
        <div class="footer-section">
          <h4 class="section-title">연락처</h4>
          <div class="contact-info">
            <div class="contact-item">
              <svg viewBox="0 0 24 24" fill="currentColor" class="contact-icon">
                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
              </svg>
              <span>support@pullit.co.kr</span>
            </div>
            <div class="contact-item">
              <svg viewBox="0 0 24 24" fill="currentColor" class="contact-icon">
                <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
              </svg>
              <span>1588-PULLIT (1588-785548)</span>
            </div>
            <div class="contact-item">
              <svg viewBox="0 0 24 24" fill="currentColor" class="contact-icon">
                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
              </svg>
              <span>서울특별시 강남구 테헤란로 123</span>
            </div>
          </div>

          <!-- System Status -->
          <div class="system-status">
            <h5 class="status-title">시스템 상태</h5>
            <div class="status-indicators">
              <div class="status-item">
                <div class="status-dot online"></div>
                <span>서버 정상 운영</span>
              </div>
              <div class="status-item">
                <div class="status-dot online"></div>
                <span>DB 연결 정상</span>
              </div>
            </div>
            <div class="online-users">
              <svg viewBox="0 0 24 24" fill="currentColor" class="users-icon">
                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A3.001 3.001 0 0 0 17 6.5c-.83 0-1.55.36-2 .91-.45-.55-1.17-.91-2-.91-1.38 0-2.5 1.12-2.5 2.5 0 .7.3 1.32.77 1.77l-2.54 7.63H11v6h1v-5h3v5h1zM12.5 11.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"/>
              </svg>
              <span>현재 {{ onlineUsers }}명 접속 중</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Bottom -->
    <div class="footer-bottom">
      <div class="container">
        <div class="copyright">
          <p>&copy; 2024 PULLIT. All rights reserved.</p>
          <p class="version">Version {{ version }} | 최종 업데이트: {{ formatDate(lastUpdateDate) }}</p>
        </div>
        <div class="footer-legal">
          <router-link to="/privacy" class="legal-link">개인정보처리방침</router-link>
          <span class="separator">|</span>
          <router-link to="/terms" class="legal-link">이용약관</router-link>
          <span class="separator">|</span>
          <button @click="toggleHighContrast" class="legal-link accessibility-btn">
            <svg viewBox="0 0 24 24" fill="currentColor" class="accessibility-icon">
              <path d="M13 3C9.68 3 7 5.68 7 9v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V9c0-1.66 1.34-3 3-3s3 1.34 3 3v7.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V9c0-3.32-2.68-6-6-6z"/>
              <circle cx="9" cy="15.5" r="1.5"/>
              <circle cx="15" cy="15.5" r="1.5"/>
            </svg>
            웹 접근성
          </button>
        </div>
      </div>
    </div>
  </footer>
</template>

<script>
import { useLayoutStore } from '@/store/layoutStore.js'
import { storeToRefs } from 'pinia'
import { ref, computed } from 'vue'

export default {
  // eslint-disable-next-line vue/multi-word-component-names,vue/no-reserved-component-names
  name: "Footer",
  setup() {
    const layoutStore = useLayoutStore()
    const { footerText } = storeToRefs(layoutStore)

    // 시스템 상태 (실제 구현 시 API에서 가져옴)
    const serverStatus = ref({
      class: 'status-online',
      text: '정상'
    })

    const databaseStatus = ref({
      class: 'status-online',
      text: '정상'
    })

    const onlineUsers = ref(42)
    const lastUpdateDate = ref(new Date())
    const version = ref('2.1.0')

    // 날짜 포맷팅
    const formatDate = (date) => {
      return new Intl.DateTimeFormat('ko-KR', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit'
      }).format(date)
    }

    // 접근성 기능
    const toggleHighContrast = () => {
      document.body.classList.toggle('high-contrast')
      // 사용자 설정 저장
      const isHighContrast = document.body.classList.contains('high-contrast')
      localStorage.setItem('high-contrast', isHighContrast)
    }

    // 페이지 로드 시 접근성 설정 복원 - 일단 비활성화
    // high-contrast 모드가 색상 문제를 일으킬 수 있으므로 임시로 비활성화
    // if (localStorage.getItem('high-contrast') === 'true') {
    //   document.body.classList.add('high-contrast')
    // }

    // localStorage에서 high-contrast 설정 제거
    localStorage.removeItem('high-contrast')
    document.body.classList.remove('high-contrast')

    return {
      footerText,
      serverStatus,
      databaseStatus,
      onlineUsers,
      lastUpdateDate,
      version,
      formatDate,
      toggleHighContrast
    }
  }
}
</script>

<style scoped>
/* Professional Full-Width Footer */
.education-footer {
  background: #1e293b;
  color: #e2e8f0;
  margin-top: auto;
  width: 100%;
}

/* Footer Main */
.footer-main {
  padding: 40px 0;
  border-bottom: 1px solid #334155;
}

.footer-brand {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.brand-logo {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

.logo-icon {
  width: 32px;
  height: 32px;
  color: #3b82f6;  /* 일관된 파란색으로 변경 */
}

.brand-name {
  font-size: 28px;
  font-weight: 800;
  color: #ffffff;
  letter-spacing: -0.5px;
}

.brand-description {
  font-size: 16px;
  line-height: 1.6;
  color: #94a3b8;
  margin: 0;
}

.social-links {
  display: flex;
  gap: 12px;
}

.social-link {
  width: 40px;
  height: 40px;
  background: #334155;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #94a3b8;
  text-decoration: none;
  transition: all 0.3s ease;
}

.social-link:hover {
  background: #3b82f6;  /* 더 밝은 파란색으로 변경 */
  color: white;
  transform: translateY(-2px);
}

.social-link svg {
  width: 18px;
  height: 18px;
}

/* Footer Sections */
.footer-section {
  display: flex;
  flex-direction: column;
}

.section-title {
  font-size: 18px;
  font-weight: 700;
  color: #ffffff;
  margin: 0 0 20px 0;
}

.footer-links {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.footer-link {
  color: #94a3b8;
  text-decoration: none;
  font-size: 14px;
  transition: color 0.3s ease;
  line-height: 1.5;
}

.footer-link:hover {
  color: #3b82f6;  /* 더 밝은 파란색으로 변경 */
}

/* Contact Info */
.contact-info {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.contact-item {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
  color: #94a3b8;
}

.contact-icon {
  width: 16px;
  height: 16px;
  color: #3b82f6;  /* 일관된 파란색으로 변경 */
  flex-shrink: 0;
}

/* System Status */
.system-status {
  margin-top: 32px;
  padding-top: 24px;
  border-top: 1px solid #334155;
}

.status-title {
  font-size: 16px;
  font-weight: 600;
  color: #ffffff;
  margin: 0 0 16px 0;
}

.status-indicators {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 16px;
}

.status-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #94a3b8;
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.status-dot.online {
  background: #10b981;
}

.online-users {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #94a3b8;
  padding-top: 12px;
  border-top: 1px solid #334155;
}

.users-icon {
  width: 14px;
  height: 14px;
  color: #3b82f6;  /* 일관된 파란색으로 변경 */
  flex-shrink: 0;
}

/* Footer Bottom */
.footer-bottom {
  background: #0f172a;
  padding: 16px 0;
}

.copyright {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.copyright p {
  margin: 0;
  font-size: 14px;
  color: #94a3b8;
}

.version {
  font-size: 12px;
  color: #64748b;
}

.footer-legal {
  display: flex;
  align-items: center;
  gap: 16px;
  font-size: 12px;
}

.legal-link {
  color: #94a3b8;
  text-decoration: none;
  transition: color 0.3s ease;
}

.legal-link:hover {
  color: #3b82f6;  /* 더 밝은 파란색으로 변경 */
}

.separator {
  color: #475569;
}

.accessibility-btn {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  color: #94a3b8;
  font-size: 12px;
  transition: color 0.3s ease;
}

.accessibility-btn:hover {
  color: #3b82f6;  /* 더 밝은 파란색으로 변경 */
}

.accessibility-icon {
  width: 12px;
  height: 12px;
}

/* Container styling for full-width footer */
.container {
  width: 90%;
  margin: 0 auto;
  padding: 0;
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr 1.5fr;
  gap: 40px;
  align-items: start;
}

/* Responsive Design */
@media (max-width: 1200px) {
  .container {
    width: 95%;
    grid-template-columns: 2fr 1fr 1fr 1.2fr;
    gap: 32px;
  }
}

@media (max-width: 768px) {
  .footer-main {
    padding: 32px 0;
  }

  .container {
    width: 95%;
    display: grid;
    grid-template-columns: 1fr;
    gap: 24px;
    text-align: center;
  }

  .footer-bottom .container {
    display: flex;
    flex-direction: column;
    gap: 16px;
    text-align: center;
  }

  .footer-legal {
    justify-content: center;
    flex-wrap: wrap;
  }

  .social-links {
    justify-content: center;
  }
}

@media (max-width: 480px) {
  .footer-main {
    padding: 24px 0;
  }

  .brand-name {
    font-size: 24px;
  }

  .brand-description {
    font-size: 14px;
  }

  .section-title {
    font-size: 16px;
    margin-bottom: 16px;
  }

  .contact-item {
    justify-content: center;
    gap: 8px;
  }

  .system-status {
    margin-top: 20px;
    padding-top: 16px;
  }

  .footer-bottom {
    padding: 12px 0;
  }
}

/* High contrast mode support - scoped 스타일에서는 작동하지 않으므로 제거 */
/* 필요시 global 스타일시트나 별도 CSS 파일에서 처리 */
</style>
